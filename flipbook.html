<!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Christmas Village - Œ†œÅœåŒ≥œÅŒ±ŒºŒºŒ± / Schedule</title>

    <!-- ============================================
       FAVICON & MOBILE ICONS
       ============================================ -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/favicon/favicon-32x32.png"
    />

    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/assets/favicon/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="48x48"
      href="/assets/favicon/favicon-48x48.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#3b1416" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#3b1416" />
    <meta name="msapplication-TileColor" content="#3b1416" />
    <meta name="msapplication-config" content="/browserconfig.xml" />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --maroon: #3b1416;
        --bronze: #936336;
        --pink: #d3a096;
        --cream: #f7f3ee;
        --charcoal: #2b2a2a;
      }

      html,
      body {
        height: 100%;
        overflow: auto;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background-color: var(--cream);
        color: var(--charcoal);
        line-height: 1.6;
      }

      /* Main Layout Container - Two Columns */
      .main-layout {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 20px;
        height: 100vh;
        max-height: 980px;
        padding: 20px;
        max-width: 1920px;
        margin: 0 auto;
      }

      /* Left Column - Flipbook */
      .flipbook-column {
        display: flex;
        flex-direction: column;
        gap: 15px;
        min-width: 0;
        height: 100%;
      }

      .flipbook-title {
        text-align: center;
        color: var(--maroon);
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        padding: 10px 0;
      }

      .flipbook-title .highlight {
        color: var(--bronze);
      }

      /* Flipbook Container */
      .flipbook-container {
        display: none;
        flex: 1;
        min-height: 0;
      }

      .flipbook-container.active {
        display: flex;
        flex-direction: column;
      }

      /* Flipbook wrapper */
      .flipbook-wrapper {
        position: relative;
        flex: 1;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(59, 20, 22, 0.15);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 0;
        max-height: 920px;
      }

      .page-display {
        position: relative;
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        min-height: 0;
        padding: 20px;
      }

      .page-display img {
        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
        object-fit: contain;
        display: none;
        position: absolute;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
      }

      .page-display img.active {
        display: block;
        position: relative;
      }

      /* Slide animations */
      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .page-display img.slide-out-left {
        animation: slideOutLeft 0.5s ease-in-out forwards;
      }

      .page-display img.slide-in-right {
        animation: slideInRight 0.5s ease-in-out forwards;
      }

      .page-display img.slide-out-right {
        animation: slideOutRight 0.5s ease-in-out forwards;
      }

      .page-display img.slide-in-left {
        animation: slideInLeft 0.5s ease-in-out forwards;
      }

      /* Loading state */
      .loading-state {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: var(--bronze);
        z-index: 10;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid rgba(147, 99, 54, 0.2);
        border-top-color: var(--bronze);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Controls */
      .flipbook-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
        padding: 1rem;
        background: white;
        border-top: 1px solid rgba(59, 20, 22, 0.1);
        flex-shrink: 0;
      }

      .control-btn {
        background: var(--bronze);
        color: white;
        border: none;
        padding: 0.7rem 1.5rem;
        font-size: 0.95rem;
        font-weight: 600;
        border-radius: 30px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
      }

      .control-btn:hover:not(:disabled) {
        background: var(--pink);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(147, 99, 54, 0.3);
      }

      .control-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .control-btn:active:not(:disabled) {
        transform: translateY(0);
      }

      .page-info {
        font-size: 1rem;
        font-weight: 600;
        color: var(--charcoal);
      }

      .page-number {
        color: var(--bronze);
      }

      /* Right Column - Sidebar */
      .sidebar-column {
        display: flex;
        flex-direction: column;
        gap: 20px;
        overflow-y: auto;
        padding-right: 5px;
        height: 100%;
        justify-content: space-evenly;
      }

      /* Hide scrollbar but keep functionality */
      .sidebar-column::-webkit-scrollbar {
        width: 6px;
      }

      .sidebar-column::-webkit-scrollbar-track {
        background: transparent;
      }

      .sidebar-column::-webkit-scrollbar-thumb {
        background: var(--bronze);
        border-radius: 3px;
      }

      .sidebar-column::-webkit-scrollbar-thumb:hover {
        background: var(--pink);
      }

      /* Sidebar Section */
      .sidebar-section {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 20px rgba(59, 20, 22, 0.1);
      }

      .sidebar-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--maroon);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      /* Version Selector */
      .version-selector {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .version-btn {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 15px 20px;
        background: white;
        border: 2px solid var(--bronze);
        color: var(--bronze);
        font-size: 1rem;
        font-weight: 600;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
      }

      .version-btn:hover {
        background: rgba(147, 99, 54, 0.1);
        transform: translateX(5px);
      }

      .version-btn.active {
        background: var(--bronze);
        color: white;
        box-shadow: 0 4px 15px rgba(147, 99, 54, 0.3);
        transform: translateX(5px);
      }

      .flag-icon {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        flex-shrink: 0;
      }

      /* Info Section */
      .info-section {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 20px rgba(59, 20, 22, 0.1);
      }

      .info-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--maroon);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .info-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .info-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 15px;
        background: rgba(147, 99, 54, 0.05);
        border-radius: 10px;
        border-left: 4px solid var(--bronze);
      }

      .info-icon {
        font-size: 1.3rem;
        flex-shrink: 0;
      }

      .info-text {
        flex: 1;
        color: var(--charcoal);
        line-height: 1.6;
        font-size: 0.9rem;
      }

      .info-text strong {
        color: var(--maroon);
        font-weight: 700;
      }

      /* Responsive Design */
      @media (max-width: 1400px) {
        .main-layout {
          grid-template-columns: 1fr 280px;
        }
      }

      @media (max-width: 1024px) {
        .main-layout {
          grid-template-columns: 1fr;
          grid-template-rows: auto 1fr;
          max-height: none;
          height: auto;
          overflow-y: auto;
        }

        .sidebar-column {
          order: -1;
          flex-direction: row;
          overflow-x: auto;
          overflow-y: hidden;
          padding-right: 0;
          padding-bottom: 5px;
          height: auto;
        }

        .sidebar-section {
          min-width: 280px;
        }

        .flipbook-column {
          height: 80vh;
        }
      }

      @media (max-width: 768px) {
        .main-layout {
          padding: 15px;
          gap: 15px;
        }

        .flipbook-title {
          font-size: 1.5rem;
        }

        .flipbook-controls {
          flex-wrap: wrap;
          gap: 1rem;
        }

        .control-btn {
          flex: 1;
          min-width: 120px;
          justify-content: center;
        }

        .sidebar-column {
          flex-direction: column;
          overflow-x: hidden;
          overflow-y: auto;
        }

        .sidebar-section {
          min-width: auto;
        }

        .version-btn {
          font-size: 0.95rem;
          padding: 12px 15px;
        }

        .info-text {
          font-size: 0.85rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="main-layout">
      <!-- LEFT COLUMN - Flipbook -->
      <div class="flipbook-column">
        <!-- Greek Flipbook -->
        <div class="flipbook-container active" id="greekFlipbook">
          <div class="flipbook-wrapper">
            <div class="loading-state" id="loadingStateGreek">
              <div class="spinner"></div>
              <p>Œ¶œåœÅœÑœâœÉŒ∑ œÉŒµŒªŒØŒ¥œâŒΩ...</p>
            </div>

            <div class="page-display" id="pageDisplayGreek"></div>

            <div class="flipbook-controls">
              <button class="control-btn" id="prevBtnGreek" disabled>
                <span>‚Üê</span>
                <span>Œ†œÅŒøŒ∑Œ≥ŒøœçŒºŒµŒΩŒ∑</span>
              </button>

              <div class="page-info">
                Œ£ŒµŒªŒØŒ¥Œ±
                <span class="page-number" id="currentPageGreek">1</span> Œ±œÄœå
                <span id="totalPagesGreek">40</span>
              </div>

              <button class="control-btn" id="nextBtnGreek">
                <span>ŒïœÄœåŒºŒµŒΩŒ∑</span>
                <span>‚Üí</span>
              </button>
            </div>
          </div>
        </div>

        <!-- English Flipbook -->
        <div class="flipbook-container" id="englishFlipbook">
          <div class="flipbook-wrapper">
            <div class="loading-state" id="loadingStateEnglish">
              <div class="spinner"></div>
              <p>Loading pages...</p>
            </div>

            <div class="page-display" id="pageDisplayEnglish"></div>

            <div class="flipbook-controls">
              <button class="control-btn" id="prevBtnEnglish" disabled>
                <span>‚Üê</span>
                <span>Previous</span>
              </button>

              <div class="page-info">
                Page
                <span class="page-number" id="currentPageEnglish">1</span> of
                <span id="totalPagesEnglish">40</span>
              </div>

              <button class="control-btn" id="nextBtnEnglish">
                <span>Next</span>
                <span>‚Üí</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT COLUMN - Sidebar -->
      <aside class="sidebar-column">
        <!-- Language Selector -->
        <section class="sidebar-section">
          <h2 class="sidebar-title">üåç ŒìŒªœéœÉœÉŒ± / Language</h2>
          <div class="version-selector">
            <button class="version-btn active" data-version="greek">
              <img src="./assets/greek.png" alt="Greek" class="flag-icon" />
              <span>ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</span>
            </button>
            <button class="version-btn" data-version="english">
              <img
                src="./assets/united-kingdom.png"
                alt="English"
                class="flag-icon"
              />
              <span>English</span>
            </button>
          </div>
        </section>

        <!-- Info Section -->
        <section class="info-section">
          <h2 class="info-title" id="infoTitle">‚ÑπÔ∏è Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ</h2>
          <div class="info-list">
            <div class="info-item">
              <span class="info-icon">üìÖ</span>
              <span class="info-text">
                <strong id="datesLabel">ŒóŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒµœÇ:</strong><br />
                <span id="datesText"
                  >22 ŒùŒøŒµŒºŒ≤œÅŒØŒøœÖ 2025 ‚Äì 6 ŒôŒ±ŒΩŒøœÖŒ±œÅŒØŒøœÖ 2026</span
                >
              </span>
            </div>

            <div class="info-item">
              <span class="info-icon">üïê</span>
              <span class="info-text">
                <strong id="hoursLabel">ŒèœÅŒµœÇ:</strong><br />
                <span id="hoursText">ŒöŒ±Œ∏Œ∑ŒºŒµœÅŒπŒΩŒ¨ 11:00 ‚Äì 19:00</span>
              </span>
            </div>
          </div>
        </section>
      </aside>
    </div>

    <!-- JAVASCRIPT -->
    <script>
      // ========================================
      // TRANSLATIONS
      // ========================================
      const translations = {
        greek: {
          infoTitle: "‚ÑπÔ∏è Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ",
          datesLabel: "ŒóŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒµœÇ:",
          datesText: "22 ŒùŒøŒµŒºŒ≤œÅŒØŒøœÖ 2025 ‚Äì 6 ŒôŒ±ŒΩŒøœÖŒ±œÅŒØŒøœÖ 2026",
          hoursLabel: "ŒèœÅŒµœÇ:",
          hoursText: "ŒöŒ±Œ∏Œ∑ŒºŒµœÅŒπŒΩŒ¨ 11:00 ‚Äì 19:00",
        },
        english: {
          infoTitle: "‚ÑπÔ∏è Information",
          datesLabel: "Dates:",
          datesText: "November 22, 2025 ‚Äì January 6, 2026",
          hoursLabel: "Hours:",
          hoursText: "Daily 11:00 AM ‚Äì 7:00 PM",
        },
      };

      // ========================================
      // FLIPBOOK CONFIGURATION
      // ========================================
      const FLIPBOOK_CONFIGS = {
        greek: {
          totalPages: 40,
          imagePath: "./Images/Schedule/",
          imageFormat: ".webp",
          startPage: 1,
          animationDuration: 500,
        },
        english: {
          totalPages: 40,
          imagePath: "./Images/Schedule/en/",
          imageFormat: ".webp",
          startPage: 1,
          animationDuration: 500,
        },
      };

      // ========================================
      // STATE MANAGEMENT
      // ========================================
      const flipbookStates = {
        greek: {
          currentPage: 1,
          imagesLoaded: 0,
          isAnimating: false,
        },
        english: {
          currentPage: 1,
          imagesLoaded: 0,
          isAnimating: false,
        },
      };

      let activeVersion = "greek";

      // ========================================
      // UPDATE INFO SECTION LANGUAGE
      // ========================================
      function updateInfoLanguage(version) {
        const trans = translations[version];
        document.getElementById("infoTitle").textContent = trans.infoTitle;
        document.getElementById("datesLabel").textContent = trans.datesLabel;
        document.getElementById("datesText").textContent = trans.datesText;
        document.getElementById("hoursLabel").textContent = trans.hoursLabel;
        document.getElementById("hoursText").textContent = trans.hoursText;
      }

      // ========================================
      // VERSION SWITCHING
      // ========================================
      function setupVersionSwitcher() {
        const versionBtns = document.querySelectorAll(".version-btn");

        versionBtns.forEach((btn) => {
          btn.addEventListener("click", function () {
            const version = this.dataset.version;

            // Update button states
            versionBtns.forEach((b) => b.classList.remove("active"));
            this.classList.add("active");

            // Update flipbook visibility
            document
              .querySelectorAll(".flipbook-container")
              .forEach((container) => {
                container.classList.remove("active");
              });

            const targetFlipbook = document.getElementById(
              `${version}Flipbook`
            );
            targetFlipbook.classList.add("active");

            activeVersion = version;

            // Update info section language
            updateInfoLanguage(version);

            // Initialize if not already done
            if (flipbookStates[version].imagesLoaded === 0) {
              initFlipbook(version);
            }
          });
        });
      }

      // ========================================
      // INITIALIZE FLIPBOOK
      // ========================================
      function initFlipbook(version) {
        const config = FLIPBOOK_CONFIGS[version];
        const state = flipbookStates[version];
        const pageDisplay = document.getElementById(
          `pageDisplay${capitalize(version)}`
        );
        const loadingState = document.getElementById(
          `loadingState${capitalize(version)}`
        );
        const totalPagesSpan = document.getElementById(
          `totalPages${capitalize(version)}`
        );

        totalPagesSpan.textContent = config.totalPages;

        for (let i = 1; i <= config.totalPages; i++) {
          const img = document.createElement("img");
          img.src = `${config.imagePath}${i}${config.imageFormat}`;
          img.alt = `Page ${i}`;
          img.dataset.page = i;

          img.onload = function () {
            state.imagesLoaded++;
            if (state.imagesLoaded === config.totalPages) {
              loadingState.style.display = "none";
              showPage(version, state.currentPage, null);
            }
          };

          img.onerror = function () {
            console.error(`‚ùå Failed to load ${version} page ${i}`);
            state.imagesLoaded++;
            if (state.imagesLoaded === config.totalPages) {
              loadingState.style.display = "none";
              showPage(version, state.currentPage, null);
            }
          };

          pageDisplay.appendChild(img);
        }

        setupEventListeners(version);
      }

      // ========================================
      // PAGE NAVIGATION
      // ========================================
      function showPage(version, pageNum, direction) {
        const config = FLIPBOOK_CONFIGS[version];
        const state = flipbookStates[version];

        if (pageNum < 1 || pageNum > config.totalPages) {
          return;
        }

        if (state.isAnimating) {
          return;
        }

        const oldPage = state.currentPage;
        state.currentPage = pageNum;

        const pageDisplay = document.getElementById(
          `pageDisplay${capitalize(version)}`
        );
        const oldImg = pageDisplay.querySelector(`img[data-page="${oldPage}"]`);
        const newImg = pageDisplay.querySelector(`img[data-page="${pageNum}"]`);

        if (!newImg) {
          return;
        }

        if (!direction) {
          pageDisplay.querySelectorAll("img").forEach((img) => {
            img.classList.remove("active");
            img.className = "";
          });
          newImg.classList.add("active");
          updateUI(version);
          return;
        }

        state.isAnimating = true;

        oldImg?.classList.remove(
          "slide-out-left",
          "slide-in-right",
          "slide-out-right",
          "slide-in-left"
        );
        newImg.classList.remove(
          "slide-out-left",
          "slide-in-right",
          "slide-out-right",
          "slide-in-left"
        );

        newImg.classList.add("active");

        if (direction === "next") {
          oldImg?.classList.add("slide-out-left");
          newImg.classList.add("slide-in-right");
        } else {
          oldImg?.classList.add("slide-out-right");
          newImg.classList.add("slide-in-left");
        }

        setTimeout(() => {
          oldImg?.classList.remove(
            "active",
            "slide-out-left",
            "slide-out-right"
          );
          state.isAnimating = false;
          updateUI(version);
        }, config.animationDuration);

        updateUI(version);
      }

      function nextPage(version) {
        const config = FLIPBOOK_CONFIGS[version];
        const state = flipbookStates[version];

        if (state.currentPage < config.totalPages && !state.isAnimating) {
          showPage(version, state.currentPage + 1, "next");
        }
      }

      function prevPage(version) {
        const state = flipbookStates[version];

        if (state.currentPage > 1 && !state.isAnimating) {
          showPage(version, state.currentPage - 1, "prev");
        }
      }

      // ========================================
      // UI UPDATES
      // ========================================
      function updateUI(version) {
        const config = FLIPBOOK_CONFIGS[version];
        const state = flipbookStates[version];
        const currentPageSpan = document.getElementById(
          `currentPage${capitalize(version)}`
        );
        const prevBtn = document.getElementById(
          `prevBtn${capitalize(version)}`
        );
        const nextBtn = document.getElementById(
          `nextBtn${capitalize(version)}`
        );

        currentPageSpan.textContent = state.currentPage;
        prevBtn.disabled = state.currentPage === 1 || state.isAnimating;
        nextBtn.disabled =
          state.currentPage === config.totalPages || state.isAnimating;
      }

      // ========================================
      // EVENT LISTENERS
      // ========================================
      function setupEventListeners(version) {
        const prevBtn = document.getElementById(
          `prevBtn${capitalize(version)}`
        );
        const nextBtn = document.getElementById(
          `nextBtn${capitalize(version)}`
        );
        const pageDisplay = document.getElementById(
          `pageDisplay${capitalize(version)}`
        );

        prevBtn.addEventListener("click", () => prevPage(version));
        nextBtn.addEventListener("click", () => nextPage(version));

        // Keyboard navigation (only for active version)
        document.addEventListener("keydown", function (e) {
          if (activeVersion !== version) return;
          if (flipbookStates[version].isAnimating) return;

          switch (e.key) {
            case "ArrowLeft":
              prevPage(version);
              break;
            case "ArrowRight":
              nextPage(version);
              break;
          }
        });

        // Touch navigation
        let touchStartX = 0;
        let touchEndX = 0;

        pageDisplay.addEventListener("touchstart", function (e) {
          touchStartX = e.changedTouches[0].screenX;
        });

        pageDisplay.addEventListener("touchend", function (e) {
          if (activeVersion !== version) return;
          if (flipbookStates[version].isAnimating) return;

          touchEndX = e.changedTouches[0].screenX;
          const swipeThreshold = 50;

          if (touchEndX < touchStartX - swipeThreshold) {
            nextPage(version);
          }
          if (touchEndX > touchStartX + swipeThreshold) {
            prevPage(version);
          }
        });
      }

      // ========================================
      // UTILITY FUNCTIONS
      // ========================================
      function capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      }

      // ========================================
      // INITIALIZATION
      // ========================================
      document.addEventListener("DOMContentLoaded", function () {
        setupVersionSwitcher();
        // Initialize Greek version by default
        initFlipbook("greek");
      });
    </script>
  </body>
</html>
